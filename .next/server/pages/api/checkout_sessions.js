"use strict";(()=>{var e={};e.id=118,e.ids=[118],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6090:e=>{e.exports=import("stripe")},4504:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>l,default:()=>u,routeModule:()=>d});var r=a(1802),c=a(7153),o=a(6249),n=a(670),i=e([n]);n=(i.then?(await i)():i)[0];let u=(0,o.l)(n,"default"),l=(0,o.l)(n,"config"),d=new r.PagesAPIRouteModule({definition:{kind:c.x.PAGES_API,page:"/api/checkout_sessions",pathname:"/api/checkout_sessions",bundlePath:"",filename:""},userland:n});s()}catch(e){s(e)}})},670:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>handler});var r=a(6090),c=e([r]);r=(c.then?(await c)():c)[0];let o=new r.default(process.env.STRIPE_SECRET_KEY||"sk_test_placeholder");async function handler(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});try{let e=await o.checkout.sessions.create({payment_method_types:["card"],mode:"payment",line_items:[{price_data:{currency:"usd",product_data:{name:"Sample Comic"},unit_amount:999},quantity:1}],success_url:`${process.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000"}/checkout-success`,cancel_url:`${process.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000"}/checkout-cancel`});t.redirect(303,e.url)}catch(e){console.error(e),t.status(500).json({error:"Checkout failed"})}}s()}catch(e){s(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222],()=>__webpack_exec__(4504));module.exports=a})();